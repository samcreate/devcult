// Generated by CoffeeScript 1.7.0
(function() {
  var EventEmitter, cli, fs, help, path;

  help = require('./help');

  fs = require('fs');

  path = require('path');

  EventEmitter = require('events').EventEmitter;

  module.exports = cli = new EventEmitter;

  module.exports.execute = function(args, pkg) {
    var cmd, cmds, err;
    if (args.version || args._[0] === 'version') {
      return cli.emit('data', pkg.version);
    }
    if (!args._.length || args._[0] === 'help') {
      return cli.emit('data', help());
    }
    cmds = fs.readdirSync(path.join(__dirname)).map(function(d) {
      return path.basename(d).split('.')[0];
    });
    try {
      cmd = require(path.join(__dirname, args._[0]));
    } catch (_error) {
      err = _error;
      return cli.emit('err', "\n‚ùó  command not found\n".red + "try `roots help`\n".grey);
    }
    return cmd(args, cli);
  };

}).call(this);
