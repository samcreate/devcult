// Generated by CoffeeScript 1.7.0
(function() {
  var Roots, path;

  path = require('path');

  Roots = require('../');

  module.exports = function(args, cli) {
    var dir, opts, project;
    dir = args._[1] ? path.resolve(args._[1]) : process.cwd();
    opts = {
      env: args.env || 'development'
    };
    cli.emit('inline', 'compiling... '.grey);
    project = new Roots(dir, opts);
    project.on('done', function() {
      return cli.emit('data', 'done!'.green);
    }).on('error', function(err) {
      cli.emit('err', Error(err).stack);
      return process.nextTick(function() {
        return process.exit(1);
      });
    });
    return project.compile();
  };

}).call(this);
